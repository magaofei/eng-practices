# 代码评论速度



## 为什么代码评论要快？ {＃为什么}

**在谷歌，我们优化开发团队可以生产的速度
一个产品**，而不是优化的速度
个人开发者可以编写代码。个人发展的速度是
重要的是，它并不像整个团队的速度那么重要。

当代码审查很慢时，会发生以下几件事：

* **整个团队的速度降低了。**是的，个人，
    谁没有快速回复审查，完成其他工作。然而，
    团队其他成员的新功能和错误修复延迟了几天，
    每个CL等待审核和重新审核的数周或数月。
* **开发人员开始抗议代码审查流程。**仅限审阅者
    每隔几天回复一次，但每次都要求对CL进行重大更改，
    这对开发人员来说可能令人沮丧和困难。通常，这是
    表达了对审稿人“严格”程度的抱怨。如果
    审稿人要求_same_实质性更改（真正做出的更改）
    改善代码健康状况）但每次开发人员都会响应_quickly_
    更新后，投诉往往会消失。 **大多数投诉都是关于
    代码审查流程实际上是通过加快流程来解决的。**
* **代码运行状况可能会受到影响。**当评论缓慢时，会有所增加
    允许开发人员提交不如他们的CL的压力
    可能。缓慢的评论也会阻止代码清理，重构和
    对现有CL的进一步改进。

## 代码评审的速度有多快？ {＃快速}

如果您没有处于重点任务中，**您应该进行代码审查
它进来后不久。**

**一个工作日是响应代码所需的最长时间
审查请求（即第二天早上的第一件事）。

遵循这些指导意味着典型的CL应该获得多轮
在一天内审核（如果需要）。

##速度与中断{#interruption}

有一次，个人速度的考虑胜过团队
速度。 **如果您正处于重点任务的中间，例如编写代码，
不要打断自己去做代码审查。**研究表明它可以
需要很长时间才能让开发人员重新获得顺畅的开发流程
被打断后因此，实际上在编码时打断自己
对于团队而言，要比另一位开发人员等待代码更加昂贵
评论。

相反，在回复请求之前，请等待工作中的断点
评论。这可能是您当前的编码任务完成后，午餐后，
从会议回来，从微型厨房等回来

## 快速回复{#responses}

当我们谈论代码审查的速度时，我们就是_response_时间
我们关注的是，与CL需要多长时间才能通过
整个审查并提交。理想情况下，整个过程也应该很快
但是**对于个人的反应来说更加重要
而不是整个过程迅速发生。**

即使有时需要很长时间才能完成整个审核
_process_，在整个过程中得到评论者的快速回复
显着减轻了开发人员对“慢”代码感到的挫败感
评论。

如果你太忙而无法对CL进行全面审查，你仍然可以
发送快速回复，让开发人员知道您什么时候到达，
建议其他能够更快回复的评论者，或者
[提供一些初步的广泛评论]（navigate.md）。 （注意：这都不是意味着
你应该打断编码甚至发送这样的响应＆mdash;发送
在工作中合理的断点做出回应。）

** 审稿人必须花足够的时间进行审核
确定他们的“LGTM”意味着“此代码符合[我们的标准]（standard.md）。”**
但是，理想情况下，个人反应应该[快]（#fast）。

## 跨时区评论{#tz}

处理时区差异时，请尽量回复作者
还在办公室。如果他们已经回家了，那就试着确定一下
你的评论是在他们第二天回到办公室之前完成的。

## LGTM评论{＃lgtm-with-comments}

为了加快代码审查，在某些情况下，a
审稿人应该给LGTM / Approval，即使他们也没有得到解决
关于CL的评论。这可以在以下任何一种情

*审稿人确信开发人员将适当地解决所有问题
    评论员的其余评论。
*其余的变化很小，不需要做
    开发商。

评论者应该指定他们想要哪些选项，如果不是
否则清楚。

LGTM With Comments特别值得考虑当开发人员和
审稿人在不同的时区，否则开发人员会
等待一整天才获得“LGTM，Approval”。

## 大型CL {#large}

如果有人向您发送了如此大的代码审查，那么您不确定何时
将能够有时间审查它，你的典型反应应该是问
开发者来
[将CL拆分为几个较小的CL]（../ developer / small-cls.md）构建
相互之间，而不是一个必须一次审查的巨大的CL。这是
通常可能并且对审稿人非常有帮助，即使它需要额外的工作
来自开发者。

如果CL *不能被分解为较小的CL，并且您没有时间进行审核
整个事情很快，然后至少写一些整体评论
CL的设计并将其发送回开发人员以进行改进。你的一个
作为评论者的目标应该是始终取消阻止开发人员或启用他们
快速采取某种进一步行动，而不会牺牲代码健康状况
所以。

## 代码审查随着时间的推移而改进{#time}

如果您遵循这些准则，并且您对代码审查严格，那么您
应该发现整个代码审查过程往往越来越快
随着时间的推移。开发人员了解健康代码所需的内容，并向您发送CL
从一开始就很棒，需要的审核时间越来越少。评审
学会快速响应，不要在评论中添加不必要的延迟
处理。
但**不要妥协
[代码审查标准]（standard.md）或想象改进的质量
在速度**＆mdash;它实际上不会让任何事情发生更多
很快，从长远来看。

## 紧急情况

还有[紧急情况]（../ emergencies.md），其中CL必须通过
_whole_审查过程非常迅速，质量准则将在何处
轻松。但是，请参阅[什么是紧急情况？]（../ emergencies.md＃what）
描述哪些情况实际上符合紧急情况以及哪些情况
别。

下一页：[如何编写代码审查注释]（comments.md）