# 代码审查标准



代码审查的主要目的是确保整体
Google代码的代码运行状况
基数正在逐步改善。代码审查的所有工具和过程都是
为此目的而设计。

为了实现这一目标，必须平衡一系列的权衡。

首先，开发人员必须能够对其任务进行__ progress。如果你没有
提交代码库的改进，然后代码库永远不会改进。也，
如果审稿人让_any_变更难以进入，那么开发人员
我们不愿意在未来做出改进。

另一方面，审稿人有责任确保每个CL都是
如此高质量的代码库的整体代码健康状况不是
随着时间的推移逐渐减少。这可能很棘手，因为代码库通常会降级
通过随着时间的推移，代码健康状
在很长的时间限制下，他们觉得必须采取
快捷方式，以实现他们的目标。

此外，审稿人对其代码拥有所有权和责任
审查。他们希望确保代码库保持一致，可维护，
以及所提到的所有其他事情
[“在代码审查中寻找什么。”](looking-for.md)

因此，我们将以下规则作为我们在代码审查中期望的标准：

**一般而言，审核人员应该在CL处于某个州时批准CL
它肯定会改善整体
系统的代码健康状况
正在努力，即使CL不完美。**

这是所有代码审查指南中的高级原则。

当然，这有一些限制。例如，如果CL添加了一个功能
审稿人在他们的系统中不想要，那么审稿人当然可以
即使代码设计精良，也拒绝批准。

这里的一个关键点是没有“完美”代码这样的东西＆mdash;有
只有_better_代码。审稿人不应要求作者对每一个小小的东西进行修饰
在批准之前，CL的一部分。相反，审稿人应该平衡
与变革的重要性相比，需要取得进展
建议。审稿人应该寻求的不是追求完美
_连续的提高_。 CL作为一个整体，提高了可维护性，
系统的可读性和可理解性不应该延迟数天
或几周，因为它不是“完美的”。

审稿人应该随时留下表达某些内容的评论
可能会更好，但如果它不是很重要，请在其前面加上类似的东西
“尼特：”让作者知道这只是他们能够做到的一点点
选择忽略。

注意：本文档中的任何内容都无法证明CL肯定是在检查中
_worsen_系统的整体代码健康状况。你唯一一次这样做
会在[紧急](../ emergencygencies.md)。

## 指导

代码审查可以具有向开发人员教授新内容的重要功能
关于语言，框架或一般软件设计原则。它的
总是可以留下评论，帮助开发人员学习新东西。分享
知识是随着时间的推移改善系统代码健康状况的一部分。就收下吧
请记住，如果您的评论纯粹是教育性的，但对于会议并不重要
本文档中描述的标准，前缀为“Nit：”或其他
表明作者没有强制要求在此CL中解决它。

## Principles {#principles}

*技术事实和数据否决了意见和个人偏好。

*关于风格问题，[风格指南](http://google.github.io/styleguide/)
    是绝对的权威。任何纯粹的风格点(空白等)
    不在风格指南中是个人喜好的问题。风格应该
    与那里的东西保持一致。如果没有以前的样式，请接受
    笔者的。

* **软件设计方面几乎从来不是纯粹的风格问题或只是一个
    个人偏好。**它们基于基本原则，应该是
    权衡这些原则，而不仅仅是个人意见。有时在那里
    是一些有效的选择。如果作者可以证明(通过数据
    或基于可靠的工程原理)，有几种方法
    同样有效，然后审稿人应接受作者的偏好。
    否则，选择取决于软件设计的标准原则。

*如果没有其他规则适用，则审核人可以询问作者
    与当前代码库中的内容一致，只要不是
    恶化了系统的整体代码健康状况。

## 解决冲突{#conflicts}

在代码审查的任何冲突中，第一步应始终为
开发人员和审稿人试图达成共识，基于内容
本文件和[The CL Author's Guide]中的其他文件(../开发人员/)
和[评论者指南](index.md)。

当达成共识变得特别困难时，它可以帮助有一个
面对面的会议或评论者和作者之间的VC，而不是
只是试图通过代码审查评论来解决冲突。 (如果你这样做
但是，请确保在评论中记录讨论结果
CL，面向未来的读者。)

如果这不能解决问题，解决问题的最常用方法就是解决问题
要升级。通常是
升级路径是一个更广泛的团队讨论，有一个TL权衡，问
来自维护者的代码决定，或要求工程经理提供帮助
出。 **不要让CL坐在那里因为作者和评论者不能来
达成协议。**

下一页：[在代码审查中寻找什么](looking-for.md)